# ESP32 Arduino 초급 커리큘럼 (15일)

**대상:** 프로그래밍 입문자, 아두이노 초보자
**목표:** ESP32 하드웨어 기본 동작 이해 및 Wi-Fi/HTML 기초
**사용 보드:** esp32wroom_250806 교육보드

---

## Part 1: 개발환경 및 기본 출력 (Day 1-3)

### Day 1: ESP32 소개와 개발환경 설정
**학습 목표:** Arduino IDE 설치 및 ESP32 보드 연결

| 항목 | 내용 |
|------|------|
| 이론 | ESP32 특징, 마이크로컨트롤러 개념 |
| 실습 | Arduino IDE 설치, 보드 매니저 설정, USB 드라이버 설치 |
| 과제 | Serial Monitor로 "Hello ESP32" 출력 |

**사용 핀:** 없음 (Serial 통신만)

```cpp
void setup() {
    Serial.begin(115200);
    Serial.println("Hello ESP32!");
}

void loop() {
    Serial.println("ESP32 is running...");
    delay(1000);
}
```

---

### Day 2: LED 제어 기초 - digitalWrite
**학습 목표:** 디지털 출력으로 LED 켜고 끄기

| 항목 | 내용 |
|------|------|
| 이론 | GPIO 개념, digitalWrite(), pinMode() |
| 실습 | 빨강 LED 깜빡이기, 3색 LED 순차 점등 |
| 과제 | 신호등 패턴 만들기 (빨강→노랑→파랑) |

**사용 핀:** LED_RED(25), LED_YELLOW(26), LED_BLUE(27)

```cpp
#define LED_RED    25
#define LED_YELLOW 26
#define LED_BLUE   27

void setup() {
    pinMode(LED_RED, OUTPUT);
    pinMode(LED_YELLOW, OUTPUT);
    pinMode(LED_BLUE, OUTPUT);
}

void loop() {
    digitalWrite(LED_RED, HIGH);
    delay(1000);
    digitalWrite(LED_RED, LOW);
    digitalWrite(LED_YELLOW, HIGH);
    delay(1000);
    digitalWrite(LED_YELLOW, LOW);
    digitalWrite(LED_BLUE, HIGH);
    delay(1000);
    digitalWrite(LED_BLUE, LOW);
}
```

---

### Day 3: LED 밝기 제어 - PWM
**학습 목표:** PWM으로 LED 밝기 조절하기

| 항목 | 내용 |
|------|------|
| 이론 | PWM 개념, analogWrite(), Duty Cycle |
| 실습 | LED 페이드 인/아웃, 숨쉬기 효과 |
| 과제 | 3색 LED로 무지개 색상 표현 |

**사용 핀:** LED_RED(25), LED_YELLOW(26), LED_BLUE(27)

```cpp
#define LED_RED 25

void setup() {
    pinMode(LED_RED, OUTPUT);
}

void loop() {
    // 밝아지기
    for (int i = 0; i <= 255; i++) {
        analogWrite(LED_RED, i);
        delay(10);
    }
    // 어두워지기
    for (int i = 255; i >= 0; i--) {
        analogWrite(LED_RED, i);
        delay(10);
    }
}
```

---

## Part 2: 입력과 소리 (Day 4-6)

### Day 4: 스위치 입력 - digitalRead
**학습 목표:** 버튼 입력으로 LED 제어

| 항목 | 내용 |
|------|------|
| 이론 | 디지털 입력, 풀업/풀다운 저항, 디바운싱 |
| 실습 | 버튼 누르면 LED 켜기/끄기 |
| 과제 | 버튼으로 LED 색상 순환하기 |

**사용 핀:** SWITCH(32), LED_RED(25), LED_YELLOW(26), LED_BLUE(27)

```cpp
#define SWITCH_PIN 32
#define LED_RED    25

void setup() {
    pinMode(SWITCH_PIN, INPUT);
    pinMode(LED_RED, OUTPUT);
}

void loop() {
    if (digitalRead(SWITCH_PIN) == HIGH) {
        digitalWrite(LED_RED, HIGH);
    } else {
        digitalWrite(LED_RED, LOW);
    }
}
```

---

### Day 5: 부저 제어 - tone()
**학습 목표:** 부저로 소리 출력하기

| 항목 | 내용 |
|------|------|
| 이론 | 주파수와 음계, tone() 함수 |
| 실습 | 비프음 출력, 도레미파솔라시도 연주 |
| 과제 | 간단한 멜로디 만들기 (생일축하, 학교종) |

**사용 핀:** BUZZER_BEEP(14), BUZZER_MELODY(33)

```cpp
#define BUZZER_MELODY 33

// 음계 주파수 (도레미파솔라시도)
int melody[] = {262, 294, 330, 349, 392, 440, 494, 523};

void setup() {
    pinMode(BUZZER_MELODY, OUTPUT);
}

void loop() {
    for (int i = 0; i < 8; i++) {
        tone(BUZZER_MELODY, melody[i], 500);
        delay(600);
    }
    delay(2000);
}
```

---

### Day 6: 입출력 통합 실습
**학습 목표:** 스위치, LED, 부저 연동

| 항목 | 내용 |
|------|------|
| 이론 | 이벤트 처리, 상태 머신 개념 |
| 실습 | 버튼 누르면 LED 켜지고 부저 울리기 |
| 과제 | 미니 퀴즈 게임 (반응속도 테스트) |

**사용 핀:** SWITCH(32), LED 3개, BUZZER(14, 33)

```cpp
#define SWITCH_PIN    32
#define LED_RED       25
#define BUZZER_BEEP   14

void setup() {
    pinMode(SWITCH_PIN, INPUT);
    pinMode(LED_RED, OUTPUT);
    pinMode(BUZZER_BEEP, OUTPUT);
}

void loop() {
    if (digitalRead(SWITCH_PIN) == HIGH) {
        digitalWrite(LED_RED, HIGH);
        digitalWrite(BUZZER_BEEP, HIGH);
        delay(100);
        digitalWrite(BUZZER_BEEP, LOW);
    } else {
        digitalWrite(LED_RED, LOW);
    }
}
```

---

## Part 3: I2C 통신과 센서 (Day 7-9)

### Day 7: I2C 통신과 OLED 디스플레이
**학습 목표:** OLED에 텍스트 출력하기

| 항목 | 내용 |
|------|------|
| 이론 | I2C 통신 원리, SDA/SCL, 주소 개념 |
| 실습 | OLED 초기화, 텍스트 출력, 한글 표시 |
| 과제 | 자기 이름과 오늘 날짜 표시 |

**사용 핀:** SDA(21), SCL(22)
**라이브러리:** Adafruit_SSD1306, Adafruit_GFX

```cpp
#include <Wire.h>
#include <Adafruit_SSD1306.h>

#define I2C_SDA 21
#define I2C_SCL 22

Adafruit_SSD1306 display(128, 64, &Wire, -1);

void setup() {
    Wire.begin(I2C_SDA, I2C_SCL);
    display.begin(SSD1306_SWITCHCAPVCC, 0x3C);
    display.clearDisplay();
    display.setTextSize(2);
    display.setTextColor(WHITE);
    display.setCursor(0, 0);
    display.println("Hello!");
    display.println("ESP32");
    display.display();
}

void loop() {}
```

---

### Day 8: OLED 그래픽과 애니메이션
**학습 목표:** OLED에 도형과 애니메이션 표시

| 항목 | 내용 |
|------|------|
| 이론 | 좌표계, 도형 그리기 함수 |
| 실습 | 원, 사각형, 선 그리기, 간단한 애니메이션 |
| 과제 | 움직이는 공 애니메이션 |

**사용 핀:** SDA(21), SCL(22)

```cpp
void loop() {
    for (int x = 0; x < 128; x += 5) {
        display.clearDisplay();
        display.fillCircle(x, 32, 10, WHITE);
        display.display();
        delay(50);
    }
}
```

---

### Day 9: 온습도 센서 (AHT20)
**학습 목표:** 온도와 습도 측정하기

| 항목 | 내용 |
|------|------|
| 이론 | 온습도 센서 원리, 데이터 읽기 |
| 실습 | AHT20 센서 연결, 온습도 읽기 |
| 과제 | OLED에 온습도 실시간 표시 |

**사용 핀:** SDA(21), SCL(22)
**라이브러리:** Adafruit_AHTX0

```cpp
#include <Adafruit_AHTX0.h>

Adafruit_AHTX0 aht;

void setup() {
    Serial.begin(115200);
    Wire.begin(21, 22);
    aht.begin();
}

void loop() {
    sensors_event_t humidity, temp;
    aht.getEvent(&humidity, &temp);

    Serial.print("온도: ");
    Serial.print(temp.temperature);
    Serial.println(" °C");

    Serial.print("습도: ");
    Serial.print(humidity.relative_humidity);
    Serial.println(" %");

    delay(2000);
}
```

---

## Part 4: Wi-Fi 기초 (Day 10-12)

### Day 10: Wi-Fi 연결하기
**학습 목표:** ESP32를 Wi-Fi에 연결

| 항목 | 내용 |
|------|------|
| 이론 | Wi-Fi 개념, Station/AP 모드, IP 주소 |
| 실습 | 공유기에 연결, IP 주소 확인 |
| 과제 | 연결 상태 LED로 표시 |

```cpp
#include <WiFi.h>

const char* ssid = "YOUR_WIFI_SSID";
const char* password = "YOUR_WIFI_PASSWORD";

void setup() {
    Serial.begin(115200);
    WiFi.begin(ssid, password);

    Serial.print("연결 중");
    while (WiFi.status() != WL_CONNECTED) {
        delay(500);
        Serial.print(".");
    }

    Serial.println("\n연결 완료!");
    Serial.print("IP 주소: ");
    Serial.println(WiFi.localIP());
}

void loop() {}
```

---

### Day 11: 간단한 웹 서버 만들기
**학습 목표:** ESP32를 웹 서버로 동작

| 항목 | 내용 |
|------|------|
| 이론 | HTTP 프로토콜, 웹 서버 개념 |
| 실습 | 간단한 웹 페이지 서빙 |
| 과제 | 온습도 데이터 웹 페이지에 표시 |

```cpp
#include <WiFi.h>
#include <WebServer.h>

WebServer server(80);

void handleRoot() {
    String html = "<html><head><meta charset='UTF-8'></head>";
    html += "<body><h1>ESP32 웹 서버</h1>";
    html += "<p>안녕하세요!</p></body></html>";
    server.send(200, "text/html", html);
}

void setup() {
    // Wi-Fi 연결 코드...

    server.on("/", handleRoot);
    server.begin();
    Serial.println("웹 서버 시작!");
}

void loop() {
    server.handleClient();
}
```

---

### Day 12: HTML 기초와 웹 페이지 꾸미기
**학습 목표:** HTML로 웹 페이지 디자인

| 항목 | 내용 |
|------|------|
| 이론 | HTML 태그, CSS 기초, 반응형 디자인 |
| 실습 | 스타일이 적용된 웹 페이지 만들기 |
| 과제 | 센서 데이터를 예쁜 카드로 표시 |

```cpp
String getHTML() {
    String html = "<!DOCTYPE html><html><head>";
    html += "<meta charset='UTF-8'>";
    html += "<meta name='viewport' content='width=device-width, initial-scale=1'>";
    html += "<style>";
    html += "body { font-family: Arial; text-align: center; background: #f0f0f0; }";
    html += ".card { background: white; padding: 20px; margin: 20px; border-radius: 10px; }";
    html += "h1 { color: #333; }";
    html += ".temp { font-size: 48px; color: #e74c3c; }";
    html += ".humid { font-size: 48px; color: #3498db; }";
    html += "</style></head><body>";
    html += "<h1>ESP32 환경 모니터</h1>";
    html += "<div class='card'><p>온도</p><p class='temp'>25.3°C</p></div>";
    html += "<div class='card'><p>습도</p><p class='humid'>60%</p></div>";
    html += "</body></html>";
    return html;
}
```

---

## Part 5: 웹 제어와 종합 프로젝트 (Day 13-15)

### Day 13: 웹으로 LED 제어하기
**학습 목표:** 웹 페이지에서 하드웨어 제어

| 항목 | 내용 |
|------|------|
| 이론 | GET 요청, URL 파라미터 |
| 실습 | 웹 버튼으로 LED 켜고 끄기 |
| 과제 | 3색 LED 각각 제어하는 웹 페이지 |

**사용 핀:** LED_RED(25), LED_YELLOW(26), LED_BLUE(27)

```cpp
void handleLED() {
    String state = server.arg("state");
    String color = server.arg("color");

    int pin = LED_RED;
    if (color == "yellow") pin = LED_YELLOW;
    if (color == "blue") pin = LED_BLUE;

    if (state == "on") {
        digitalWrite(pin, HIGH);
    } else {
        digitalWrite(pin, LOW);
    }

    server.send(200, "text/plain", "OK");
}

// URL: http://192.168.x.x/led?color=red&state=on
```

---

### Day 14: 자동 새로고침과 실시간 데이터
**학습 목표:** 실시간 센서 데이터 표시

| 항목 | 내용 |
|------|------|
| 이론 | meta refresh, JavaScript fetch |
| 실습 | 5초마다 자동 갱신되는 온습도 페이지 |
| 과제 | 온도 경고 기능 추가 (30도 이상시 빨간색) |

```cpp
String getHTML() {
    String html = "<!DOCTYPE html><html><head>";
    html += "<meta charset='UTF-8'>";
    html += "<meta http-equiv='refresh' content='5'>";  // 5초마다 새로고침
    html += "<title>ESP32 모니터</title></head><body>";
    html += "<h1>실시간 환경 데이터</h1>";
    html += "<p>온도: " + String(temperature) + " °C</p>";
    html += "<p>습도: " + String(humidity) + " %</p>";
    html += "<p>업데이트: " + String(millis()/1000) + "초</p>";
    html += "</body></html>";
    return html;
}
```

---

### Day 15: 종합 프로젝트 - 스마트 환경 모니터
**학습 목표:** 모든 기능을 통합한 프로젝트 완성

| 항목 | 내용 |
|------|------|
| 프로젝트 | Wi-Fi 환경 모니터 시스템 |
| 기능 | 온습도 측정, OLED 표시, 웹 모니터링, LED 상태 표시 |
| 발표 | 프로젝트 발표 및 코드 리뷰 |

**종합 프로젝트 기능:**
1. 온습도 센서로 데이터 측정
2. OLED에 실시간 표시
3. Wi-Fi 웹 서버로 원격 모니터링
4. 온도 30도 이상 → 빨강 LED + 부저 경고
5. 웹에서 LED 수동 제어

---

## 핀 사용 요약 (초급)

| 기능 | GPIO | Day |
|------|------|-----|
| LED_RED | 25 | Day 2-6, 13-15 |
| LED_YELLOW | 26 | Day 2-6, 13-15 |
| LED_BLUE | 27 | Day 2-6, 13-15 |
| BUZZER_BEEP | 14 | Day 5-6, 15 |
| BUZZER_MELODY | 33 | Day 5-6 |
| SWITCH | 32 | Day 4-6 |
| I2C_SDA | 21 | Day 7-9, 14-15 |
| I2C_SCL | 22 | Day 7-9, 14-15 |

---

## 준비물

- ESP32 교육보드 (esp32wroom_250806)
- USB 케이블 (Type-C 또는 Micro-B)
- PC (Arduino IDE 설치)
- Wi-Fi 공유기 (인터넷 연결용)
- 스마트폰 (웹 접속 테스트용)
