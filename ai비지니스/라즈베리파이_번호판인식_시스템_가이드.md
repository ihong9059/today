# 라즈베리파이 자동차 번호판 인식 시스템 개발 가이드

**작성일:** 2025년 12월 15일
**대상:** 초보자 (프로그래밍/하드웨어 입문자)

---

## 1. 프로젝트 개요

### 1.1 목표
라즈베리파이와 카메라를 사용하여 자동차 번호판을 자동으로 인식하는 시스템(ANPR/ALPR) 구축

### 1.2 용어 정리
| 용어 | 설명 |
|------|------|
| **ANPR** | Automatic Number Plate Recognition (자동 번호판 인식) |
| **ALPR** | Automatic License Plate Recognition (자동 면허판 인식) |
| **OCR** | Optical Character Recognition (광학 문자 인식) |
| **OpenCV** | 컴퓨터 비전 라이브러리 |

### 1.3 시스템 구성도

```
┌─────────────┐    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│   카메라    │───▶│ 이미지 캡처 │───▶│ 번호판 감지 │───▶│ 문자 인식   │
│  (Camera)   │    │  (Capture)  │    │ (Detection) │    │   (OCR)     │
└─────────────┘    └─────────────┘    └─────────────┘    └─────────────┘
                                                                │
                                                                ▼
                                                        ┌─────────────┐
                                                        │ 결과 출력   │
                                                        │  (Output)   │
                                                        └─────────────┘
```

---

## 2. 필요 하드웨어

### 2.1 라즈베리파이 모델 선택

| 모델 | CPU | RAM | 가격(약) | 번호판 인식 적합도 | 추천 |
|------|-----|-----|----------|-------------------|------|
| **Raspberry Pi 5** | Cortex-A76 2.4GHz 쿼드 | 4GB/8GB | $60-80 | ⭐⭐⭐⭐⭐ 최적 | ✅ **강력 추천** |
| **Raspberry Pi 4B** | Cortex-A72 1.8GHz 쿼드 | 4GB/8GB | $55-75 | ⭐⭐⭐⭐ 우수 | ✅ 추천 |
| Raspberry Pi 4B 2GB | Cortex-A72 1.8GHz 쿼드 | 2GB | $45 | ⭐⭐⭐ 보통 | △ 가능 |
| Raspberry Pi 3B+ | Cortex-A53 1.4GHz 쿼드 | 1GB | $35 | ⭐⭐ 느림 | ✗ 비추천 |
| Raspberry Pi Zero 2W | Cortex-A53 1GHz 쿼드 | 512MB | $15 | ⭐ 매우 느림 | ✗ 비추천 |

**초보자 추천:** Raspberry Pi 4B 4GB 또는 Raspberry Pi 5 4GB

### 2.2 카메라 모듈 선택

| 카메라 | 해상도 | 특징 | 가격(약) | 번호판 인식 적합도 |
|--------|--------|------|----------|-------------------|
| **Camera Module 3** | 12MP | 오토포커스, HDR | $25 | ⭐⭐⭐⭐⭐ **최적** |
| Camera Module 3 Wide | 12MP | 120° 광각, 오토포커스 | $35 | ⭐⭐⭐⭐ 우수 |
| Camera Module 2 | 8MP | 고정 초점 | $25 | ⭐⭐⭐ 보통 |
| HQ Camera | 12.3MP | 렌즈 교환식, 수동초점 | $50+ | ⭐⭐⭐⭐⭐ 최적 (렌즈 별도) |
| USB 웹캠 | 다양 | 설치 간편 | $10-50 | ⭐⭐⭐ 보통 |

**초보자 추천:** Camera Module 3 (오토포커스로 초점 맞추기 쉬움)

### 2.3 전체 부품 목록 및 예상 비용

| 부품 | 필수 여부 | 예상 가격 | 비고 |
|------|----------|----------|------|
| Raspberry Pi 4B 4GB | 필수 | ₩70,000 | 또는 Pi 5 |
| Camera Module 3 | 필수 | ₩35,000 | 오토포커스 |
| MicroSD 카드 (32GB+) | 필수 | ₩10,000 | Class 10 이상 |
| 전원 어댑터 (5V 3A) | 필수 | ₩15,000 | USB-C (Pi 4/5) |
| 카메라 케이블 | 필수 | 포함 | 카메라와 함께 제공 |
| 케이스 | 권장 | ₩15,000 | 방열 고려 |
| 방열판/쿨러 | 권장 | ₩5,000 | 장시간 사용시 |
| 모니터/키보드/마우스 | 초기 설정용 | - | 또는 SSH 사용 |
| **총 예상 비용** | | **약 ₩150,000 ~ ₩200,000** | |

---

## 3. 소프트웨어 구성

### 3.1 운영체제
- **Raspberry Pi OS (64-bit)** - 권장
- 또는 Ubuntu Server 22.04/24.04 LTS

### 3.2 필수 라이브러리

| 라이브러리 | 용도 | 버전 |
|------------|------|------|
| **Python** | 프로그래밍 언어 | 3.9+ |
| **OpenCV** | 이미지 처리, 번호판 감지 | 4.8+ |
| **NumPy** | 수치 연산 | 1.24+ |
| **Tesseract OCR** | 문자 인식 (전통적 방식) | 5.0+ |
| **EasyOCR** | 문자 인식 (딥러닝 기반) | 1.7+ |
| **Picamera2** | 라즈베리파이 카메라 제어 | 최신 |
| **imutils** | 이미지 처리 유틸리티 | 0.5+ |

### 3.3 선택적 라이브러리 (고급)

| 라이브러리 | 용도 | 설명 |
|------------|------|------|
| **YOLOv8** | 객체 감지 | 딥러닝 기반 번호판 감지 |
| **PaddleOCR** | 문자 인식 | 중국/한국어 강력 지원 |
| **OpenALPR** | 통합 ALPR | 상용급 번호판 인식 |
| **TensorFlow Lite** | 딥러닝 추론 | 경량화 모델 실행 |

---

## 4. 개발 단계별 가이드

### 4.1 1단계: 환경 설정 (난이도: ⭐)

**예상 소요 시간:** 1-2시간

#### 4.1.1 Raspberry Pi OS 설치
```bash
# Raspberry Pi Imager 사용하여 SD 카드에 OS 설치
# https://www.raspberrypi.com/software/
```

#### 4.1.2 시스템 업데이트
```bash
sudo apt update && sudo apt upgrade -y
```

#### 4.1.3 카메라 활성화
```bash
# 카메라 연결 확인
libcamera-hello --list-cameras

# 테스트 사진 촬영
libcamera-still -o test.jpg
```

#### 4.1.4 Python 환경 설정
```bash
# 가상환경 생성 (권장)
python3 -m venv ~/lpr_env
source ~/lpr_env/bin/activate

# 기본 패키지 설치
pip install --upgrade pip
pip install numpy opencv-python-headless picamera2
```

---

### 4.2 2단계: 카메라 테스트 (난이도: ⭐)

**예상 소요 시간:** 30분-1시간

#### 4.2.1 기본 카메라 테스트 코드

```python
# camera_test.py
from picamera2 import Picamera2
import cv2

# 카메라 초기화
picam2 = Picamera2()
config = picam2.create_preview_configuration(main={"size": (1920, 1080)})
picam2.configure(config)
picam2.start()

# 이미지 캡처
frame = picam2.capture_array()

# 이미지 저장
cv2.imwrite("captured_image.jpg", frame)
print("이미지가 저장되었습니다: captured_image.jpg")

picam2.stop()
```

#### 4.2.2 실시간 미리보기 (모니터 연결 시)

```python
# live_preview.py
from picamera2 import Picamera2
import cv2

picam2 = Picamera2()
picam2.configure(picam2.create_preview_configuration(main={"size": (640, 480)}))
picam2.start()

while True:
    frame = picam2.capture_array()
    # BGR 변환 (OpenCV 호환)
    frame = cv2.cvtColor(frame, cv2.COLOR_RGB2BGR)
    cv2.imshow("Camera Preview", frame)

    if cv2.waitKey(1) & 0xFF == ord('q'):
        break

cv2.destroyAllWindows()
picam2.stop()
```

---

### 4.3 3단계: 번호판 감지 (난이도: ⭐⭐⭐)

**예상 소요 시간:** 2-4시간

번호판을 감지하는 방법은 여러 가지가 있습니다:

#### 4.3.1 방법 1: OpenCV 컨투어 기반 (초보자용)

```python
# plate_detection_basic.py
import cv2
import numpy as np

def detect_plate_contour(image_path):
    # 이미지 읽기
    img = cv2.imread(image_path)
    gray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)

    # 노이즈 제거
    blur = cv2.bilateralFilter(gray, 11, 17, 17)

    # 엣지 검출
    edges = cv2.Canny(blur, 30, 200)

    # 컨투어 찾기
    contours, _ = cv2.findContours(edges.copy(),
                                    cv2.RETR_TREE,
                                    cv2.CHAIN_APPROX_SIMPLE)

    # 면적 기준 정렬
    contours = sorted(contours, key=cv2.contourArea, reverse=True)[:10]

    plate_contour = None
    for contour in contours:
        # 컨투어 근사화
        peri = cv2.arcLength(contour, True)
        approx = cv2.approxPolyDP(contour, 0.018 * peri, True)

        # 4각형 찾기 (번호판은 대체로 사각형)
        if len(approx) == 4:
            plate_contour = approx
            break

    if plate_contour is not None:
        # 번호판 영역 표시
        cv2.drawContours(img, [plate_contour], -1, (0, 255, 0), 3)

        # 번호판 영역 추출
        x, y, w, h = cv2.boundingRect(plate_contour)
        plate_img = gray[y:y+h, x:x+w]

        return img, plate_img

    return img, None

# 사용 예시
result_img, plate = detect_plate_contour("car_image.jpg")
if plate is not None:
    cv2.imwrite("detected_plate.jpg", plate)
    print("번호판이 감지되었습니다!")
```

#### 4.3.2 방법 2: Haar Cascade 분류기 사용

```python
# plate_detection_cascade.py
import cv2

def detect_plate_cascade(image_path):
    # Haar Cascade 분류기 로드
    # 러시아 번호판용 (다른 국가용도 사용 가능)
    plate_cascade = cv2.CascadeClassifier(
        cv2.data.haarcascades + 'haarcascade_russian_plate_number.xml'
    )

    img = cv2.imread(image_path)
    gray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)

    # 번호판 감지
    plates = plate_cascade.detectMultiScale(
        gray,
        scaleFactor=1.1,
        minNeighbors=5,
        minSize=(100, 30)
    )

    detected_plates = []
    for (x, y, w, h) in plates:
        cv2.rectangle(img, (x, y), (x+w, y+h), (0, 255, 0), 2)
        plate_img = gray[y:y+h, x:x+w]
        detected_plates.append(plate_img)

    return img, detected_plates

# 사용 예시
result_img, plates = detect_plate_cascade("car_image.jpg")
print(f"{len(plates)}개의 번호판이 감지되었습니다.")
```

#### 4.3.3 방법 3: YOLOv8 사용 (고급, 높은 정확도)

```bash
# YOLOv8 설치
pip install ultralytics
```

```python
# plate_detection_yolo.py
from ultralytics import YOLO
import cv2

# 사전 훈련된 모델 로드 (또는 커스텀 모델)
# 번호판 전용 모델은 별도 훈련 또는 다운로드 필요
model = YOLO('yolov8n.pt')  # 기본 모델

def detect_plate_yolo(image_path):
    img = cv2.imread(image_path)
    results = model(img)

    # 결과 시각화
    annotated_img = results[0].plot()

    return annotated_img

# 커스텀 번호판 모델 사용 시
# model = YOLO('license_plate_model.pt')
```

---

### 4.4 4단계: 문자 인식 (OCR) (난이도: ⭐⭐⭐)

**예상 소요 시간:** 2-3시간

#### 4.4.1 Tesseract OCR 설치 및 사용

```bash
# Tesseract 설치
sudo apt install tesseract-ocr tesseract-ocr-kor -y

# Python 바인딩 설치
pip install pytesseract
```

```python
# ocr_tesseract.py
import cv2
import pytesseract

def recognize_plate_tesseract(plate_image):
    # 이미지 전처리
    # 1. 그레이스케일 변환 (이미 그레이면 생략)
    if len(plate_image.shape) == 3:
        gray = cv2.cvtColor(plate_image, cv2.COLOR_BGR2GRAY)
    else:
        gray = plate_image

    # 2. 이진화
    _, thresh = cv2.threshold(gray, 0, 255,
                              cv2.THRESH_BINARY + cv2.THRESH_OTSU)

    # 3. 노이즈 제거
    denoised = cv2.medianBlur(thresh, 3)

    # 4. 크기 조정 (OCR 정확도 향상)
    height, width = denoised.shape
    if height < 50:
        scale = 50 / height
        denoised = cv2.resize(denoised, None, fx=scale, fy=scale,
                              interpolation=cv2.INTER_CUBIC)

    # OCR 수행
    # 한국어 번호판: lang='kor'
    # 영어/숫자만: lang='eng'
    config = '--oem 3 --psm 7 -c tessedit_char_whitelist=0123456789가나다라마바사아자차카타파하허호구두루무부수우주배'
    text = pytesseract.image_to_string(denoised, lang='kor', config=config)

    return text.strip()

# 사용 예시
plate_img = cv2.imread("detected_plate.jpg", cv2.IMREAD_GRAYSCALE)
result = recognize_plate_tesseract(plate_img)
print(f"인식된 번호판: {result}")
```

#### 4.4.2 EasyOCR 사용 (딥러닝 기반, 더 정확)

```bash
# EasyOCR 설치 (시간이 오래 걸릴 수 있음)
pip install easyocr
```

```python
# ocr_easyocr.py
import easyocr
import cv2

# Reader 초기화 (첫 실행 시 모델 다운로드)
# 한국어 + 영어 지원
reader = easyocr.Reader(['ko', 'en'], gpu=False)  # GPU 없으면 False

def recognize_plate_easyocr(plate_image_path):
    # OCR 수행
    results = reader.readtext(plate_image_path)

    # 결과 파싱
    recognized_text = []
    for (bbox, text, confidence) in results:
        if confidence > 0.5:  # 신뢰도 50% 이상만
            recognized_text.append(text)
            print(f"인식: {text} (신뢰도: {confidence:.2f})")

    return ' '.join(recognized_text)

# 사용 예시
result = recognize_plate_easyocr("detected_plate.jpg")
print(f"최종 인식 결과: {result}")
```

#### 4.4.3 PaddleOCR 사용 (한국어 우수)

```bash
# PaddleOCR 설치
pip install paddlepaddle paddleocr
```

```python
# ocr_paddleocr.py
from paddleocr import PaddleOCR
import cv2

# OCR 초기화
ocr = PaddleOCR(use_angle_cls=True, lang='korean')

def recognize_plate_paddle(plate_image_path):
    result = ocr.ocr(plate_image_path, cls=True)

    recognized_text = []
    for line in result:
        for item in line:
            text = item[1][0]
            confidence = item[1][1]
            if confidence > 0.5:
                recognized_text.append(text)
                print(f"인식: {text} (신뢰도: {confidence:.2f})")

    return ' '.join(recognized_text)

# 사용 예시
result = recognize_plate_paddle("detected_plate.jpg")
print(f"최종 인식 결과: {result}")
```

---

### 4.5 5단계: 통합 시스템 구축 (난이도: ⭐⭐⭐⭐)

**예상 소요 시간:** 3-5시간

#### 4.5.1 전체 통합 코드

```python
# license_plate_recognition.py
"""
라즈베리파이 번호판 인식 시스템
"""

from picamera2 import Picamera2
import cv2
import numpy as np
import easyocr
from datetime import datetime
import os

class LicensePlateRecognizer:
    def __init__(self):
        # 카메라 초기화
        self.camera = Picamera2()
        config = self.camera.create_preview_configuration(
            main={"size": (1920, 1080)}
        )
        self.camera.configure(config)

        # OCR 초기화
        print("OCR 모델 로딩 중...")
        self.reader = easyocr.Reader(['ko', 'en'], gpu=False)
        print("초기화 완료!")

        # 결과 저장 폴더
        self.output_dir = "recognized_plates"
        os.makedirs(self.output_dir, exist_ok=True)

    def preprocess_image(self, image):
        """이미지 전처리"""
        gray = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY)
        blur = cv2.bilateralFilter(gray, 11, 17, 17)
        return blur

    def detect_plate(self, image):
        """번호판 영역 감지"""
        gray = self.preprocess_image(image)
        edges = cv2.Canny(gray, 30, 200)

        contours, _ = cv2.findContours(
            edges.copy(),
            cv2.RETR_TREE,
            cv2.CHAIN_APPROX_SIMPLE
        )
        contours = sorted(contours, key=cv2.contourArea, reverse=True)[:10]

        for contour in contours:
            peri = cv2.arcLength(contour, True)
            approx = cv2.approxPolyDP(contour, 0.018 * peri, True)

            if len(approx) == 4:
                x, y, w, h = cv2.boundingRect(approx)
                aspect_ratio = w / float(h)

                # 번호판 비율 체크 (한국 번호판: 약 2:1 ~ 4.5:1)
                if 1.5 < aspect_ratio < 5.0:
                    plate_img = image[y:y+h, x:x+w]
                    return plate_img, (x, y, w, h)

        return None, None

    def recognize_text(self, plate_image):
        """번호판 문자 인식"""
        if plate_image is None:
            return ""

        # 크기 조정
        height, width = plate_image.shape[:2]
        if height < 50:
            scale = 50 / height
            plate_image = cv2.resize(plate_image, None,
                                     fx=scale, fy=scale,
                                     interpolation=cv2.INTER_CUBIC)

        # OCR 수행
        results = self.reader.readtext(plate_image)

        text_parts = []
        for (bbox, text, confidence) in results:
            if confidence > 0.3:
                text_parts.append(text)

        return ''.join(text_parts)

    def process_frame(self, frame):
        """단일 프레임 처리"""
        plate_img, bbox = self.detect_plate(frame)

        if plate_img is not None:
            text = self.recognize_text(plate_img)

            if text:
                # 결과 표시
                x, y, w, h = bbox
                cv2.rectangle(frame, (x, y), (x+w, y+h), (0, 255, 0), 2)
                cv2.putText(frame, text, (x, y-10),
                           cv2.FONT_HERSHEY_SIMPLEX, 0.9, (0, 255, 0), 2)

                return frame, text

        return frame, None

    def capture_and_recognize(self):
        """단일 이미지 캡처 및 인식"""
        self.camera.start()
        frame = self.camera.capture_array()
        frame = cv2.cvtColor(frame, cv2.COLOR_RGB2BGR)
        self.camera.stop()

        result_frame, text = self.process_frame(frame)

        # 결과 저장
        timestamp = datetime.now().strftime("%Y%m%d_%H%M%S")
        filename = f"{self.output_dir}/{timestamp}.jpg"
        cv2.imwrite(filename, result_frame)

        if text:
            print(f"인식된 번호판: {text}")
            print(f"저장됨: {filename}")
        else:
            print("번호판을 인식하지 못했습니다.")

        return text

    def run_continuous(self):
        """연속 인식 모드"""
        self.camera.start()
        print("연속 인식 모드 시작 (q: 종료)")

        try:
            while True:
                frame = self.camera.capture_array()
                frame = cv2.cvtColor(frame, cv2.COLOR_RGB2BGR)

                result_frame, text = self.process_frame(frame)

                if text:
                    timestamp = datetime.now().strftime("%Y%m%d_%H%M%S")
                    print(f"[{timestamp}] 인식: {text}")

                # 미리보기 (모니터 연결 시)
                cv2.imshow("License Plate Recognition", result_frame)

                if cv2.waitKey(1) & 0xFF == ord('q'):
                    break

        finally:
            cv2.destroyAllWindows()
            self.camera.stop()


# 메인 실행
if __name__ == "__main__":
    recognizer = LicensePlateRecognizer()

    print("\n=== 라즈베리파이 번호판 인식 시스템 ===")
    print("1. 단일 촬영 인식")
    print("2. 연속 인식 모드")

    choice = input("선택하세요 (1/2): ")

    if choice == "1":
        recognizer.capture_and_recognize()
    elif choice == "2":
        recognizer.run_continuous()
```

---

## 5. 한국 번호판 특성 및 고려사항

### 5.1 한국 자동차 번호판 규격

| 구분 | 규격 | 비율 |
|------|------|------|
| 일반 승용차 | 520mm × 110mm | 약 4.7:1 |
| 영업용 | 520mm × 110mm | 약 4.7:1 |
| 이륜차 | 220mm × 170mm | 약 1.3:1 |
| 구형 번호판 | 335mm × 155mm | 약 2.2:1 |

### 5.2 한국 번호판 문자 구성

```
[지역/용도] [숫자 2~3자리] [한글 1자] [숫자 4자리]

예시:
- 12가 3456    (신형 일반)
- 서울 12가 3456  (구형)
- 123가 4567   (신형 7자리)
```

### 5.3 한국어 OCR 최적화

```python
# 한국 번호판 전용 문자셋
KOREAN_PLATE_CHARS = {
    '숫자': '0123456789',
    '한글_지역': '서울부산대구인천광주대전울산세종경기강원충북충남전북전남경북경남제주',
    '한글_용도': '가나다라마바사아자차카타파하거너더러머버서어저처커터퍼허고노도로모보소오조초코토포호구누두루무부수우주추쿠투푸후배',
    '영문': 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'  # 외교 차량 등
}
```

---

## 6. 성능 최적화

### 6.1 처리 속도 향상

| 최적화 방법 | 효과 | 구현 난이도 |
|-------------|------|-------------|
| 이미지 해상도 축소 | 2-3배 빨라짐 | ⭐ |
| ROI(관심영역) 설정 | 2-4배 빨라짐 | ⭐⭐ |
| 모델 양자화 (INT8) | 1.5-2배 빨라짐 | ⭐⭐⭐ |
| 멀티스레딩 | 1.5배 빨라짐 | ⭐⭐⭐ |
| TensorRT 사용 | 2-4배 빨라짐 | ⭐⭐⭐⭐ |

### 6.2 정확도 향상

```python
# 이미지 전처리 개선
def enhance_plate_image(plate_img):
    # 1. 대비 향상
    clahe = cv2.createCLAHE(clipLimit=2.0, tileGridSize=(8,8))
    enhanced = clahe.apply(plate_img)

    # 2. 노이즈 제거
    denoised = cv2.fastNlMeansDenoising(enhanced, None, 10, 7, 21)

    # 3. 샤프닝
    kernel = np.array([[-1,-1,-1], [-1,9,-1], [-1,-1,-1]])
    sharpened = cv2.filter2D(denoised, -1, kernel)

    return sharpened
```

### 6.3 예상 성능 (Raspberry Pi 4B 기준)

| 작업 | 처리 시간 | FPS |
|------|----------|-----|
| 이미지 캡처 | ~50ms | - |
| 번호판 감지 (OpenCV) | ~100ms | - |
| 번호판 감지 (YOLOv8n) | ~300ms | - |
| OCR (Tesseract) | ~200ms | - |
| OCR (EasyOCR) | ~500ms | - |
| **전체 파이프라인** | **~1-2초** | **0.5-1** |

---

## 7. 프로젝트 가능성 평가

### 7.1 가능성 분석

| 항목 | 평가 | 설명 |
|------|------|------|
| **기술적 실현 가능성** | ⭐⭐⭐⭐ 높음 | 검증된 오픈소스 도구 사용 가능 |
| **비용 효율성** | ⭐⭐⭐⭐⭐ 매우 높음 | 총 15-20만원으로 구축 가능 |
| **초보자 구현 가능성** | ⭐⭐⭐ 보통 | 기본 Python 지식 필요 |
| **정확도** | ⭐⭐⭐ 보통~높음 | 환경에 따라 70-95% |
| **처리 속도** | ⭐⭐⭐ 보통 | 1-2초/프레임 (실시간은 어려움) |

### 7.2 예상 정확도

| 조건 | 예상 정확도 |
|------|-------------|
| 이상적 환경 (주간, 정지 차량, 깨끗한 번호판) | 90-95% |
| 일반 환경 (주간, 서행 차량) | 75-85% |
| 어려운 환경 (야간, 고속 주행, 오염된 번호판) | 50-70% |

### 7.3 제한사항

| 제한사항 | 설명 | 해결 방안 |
|----------|------|-----------|
| 처리 속도 | 실시간 처리 어려움 | Coral USB 가속기 추가, 해상도 축소 |
| 야간 인식 | 조명 부족 시 정확도 저하 | IR 카메라 + IR 조명 사용 |
| 고속 차량 | 모션 블러 발생 | 셔터 속도 조절, 플래시 사용 |
| 기울어진 번호판 | 인식률 저하 | 기하학적 보정 적용 |
| 날씨 영향 | 비/눈/안개 시 저하 | 방수 케이스, 와이퍼 설치 |

### 7.4 확장 가능성

| 확장 기능 | 난이도 | 설명 |
|----------|--------|------|
| 주차장 관리 시스템 | ⭐⭐⭐ | 입/출차 시간 기록, 요금 계산 |
| 차량 출입 통제 | ⭐⭐⭐ | 허용 차량 DB 연동 |
| 웹 대시보드 | ⭐⭐⭐ | Flask/Django로 웹 인터페이스 구축 |
| 클라우드 연동 | ⭐⭐⭐⭐ | AWS/GCP로 데이터 저장 및 분석 |
| 다중 카메라 | ⭐⭐⭐⭐ | 여러 대 라즈베리파이 네트워크 구성 |

---

## 8. 학습 로드맵

### 8.1 초보자 학습 순서

```
1주차: 기초 학습
├── Python 기초 문법
├── 라즈베리파이 설정
└── 리눅스 기본 명령어

2주차: 카메라 & OpenCV
├── 카메라 모듈 연결 및 테스트
├── OpenCV 기초 (이미지 읽기/쓰기/표시)
└── 이미지 전처리 기초

3주차: 번호판 감지
├── 컨투어 기반 감지
├── Haar Cascade 사용
└── 감지 결과 평가

4주차: OCR 구현
├── Tesseract OCR 설치 및 사용
├── EasyOCR 사용
└── 한국어 인식 최적화

5주차: 시스템 통합
├── 전체 파이프라인 구축
├── 에러 처리 및 예외 상황
└── 성능 최적화

6주차 이후: 고급 기능
├── 딥러닝 모델 (YOLO) 적용
├── 웹 인터페이스 개발
└── 데이터베이스 연동
```

### 8.2 추천 학습 자료

| 분야 | 자료 | 링크/설명 |
|------|------|-----------|
| Python | 점프 투 파이썬 | 무료 온라인 책 |
| OpenCV | OpenCV 공식 튜토리얼 | docs.opencv.org |
| 라즈베리파이 | 공식 문서 | raspberrypi.com/documentation |
| OCR | Tesseract 문서 | github.com/tesseract-ocr |
| 딥러닝 | PyImageSearch | pyimagesearch.com |

---

## 9. 문제 해결 가이드

### 9.1 자주 발생하는 문제

| 문제 | 원인 | 해결 방법 |
|------|------|-----------|
| 카메라 인식 안됨 | 케이블 연결 불량 | 케이블 재연결, 방향 확인 |
| `libcamera` 오류 | 드라이버 문제 | `sudo apt update && sudo apt upgrade` |
| OCR 결과 없음 | 이미지 품질 저하 | 전처리 강화, 해상도 증가 |
| 메모리 부족 | 모델이 큼 | swap 확장, 경량 모델 사용 |
| 처리 속도 느림 | CPU 과부하 | 해상도 축소, 멀티스레딩 |

### 9.2 디버깅 팁

```python
# 중간 결과 저장하여 디버깅
def debug_pipeline(image_path):
    img = cv2.imread(image_path)
    cv2.imwrite("debug_1_original.jpg", img)

    gray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)
    cv2.imwrite("debug_2_gray.jpg", gray)

    blur = cv2.bilateralFilter(gray, 11, 17, 17)
    cv2.imwrite("debug_3_blur.jpg", blur)

    edges = cv2.Canny(blur, 30, 200)
    cv2.imwrite("debug_4_edges.jpg", edges)

    # ... 계속
```

---

## 10. 결론 및 권장사항

### 10.1 결론

라즈베리파이를 이용한 번호판 인식 시스템은 **초보자도 충분히 구현 가능한 프로젝트**입니다.

- **비용**: 약 15-20만원으로 하드웨어 구성 가능
- **난이도**: Python 기초 지식이 있다면 4-6주 내 구현 가능
- **정확도**: 조건이 좋으면 80-90% 이상 달성 가능
- **제한**: 실시간 고속 처리는 어려움 (하드웨어 가속기 필요)

### 10.2 초보자 권장 구성

| 항목 | 권장 선택 |
|------|-----------|
| 라즈베리파이 | Raspberry Pi 4B 4GB |
| 카메라 | Camera Module 3 |
| 번호판 감지 | OpenCV 컨투어 방식 (시작) → YOLO (고급) |
| OCR | EasyOCR (정확도 우선) 또는 Tesseract (속도 우선) |
| 개발 환경 | Python 3.9+, 가상환경 사용 |

### 10.3 다음 단계

1. **하드웨어 구입 및 설정**
2. **카메라 테스트로 시작**
3. **간단한 이미지로 번호판 감지 연습**
4. **OCR 테스트 및 최적화**
5. **전체 시스템 통합**
6. **실제 환경 테스트 및 개선**

---

## 참고 자료

- [Raspberry Pi Camera Documentation](https://www.raspberrypi.com/documentation/accessories/camera.html)
- [OpenCV License Plate Recognition Tutorial](https://pyimagesearch.com/2020/09/21/opencv-automatic-license-number-plate-recognition-anpr-with-python/)
- [Car Plate Recognition with Raspberry Pi - Circuit Digest](https://circuitdigest.com/microcontroller-projects/license-plate-recognition-using-raspberry-pi-and-opencv)
- [ANPR on Raspberry Pi - Plate Recognizer](https://platerecognizer.com/anpr-on-raspberry-pi/)
- [License Plate Recognition Using OpenCV with Raspberry Pi 5 - Cytron](https://www.cytron.io/tutorial/car-plate-recognition-pi5)
- [Automatic Number Plate Recognition with Raspberry Pi - Medium](https://medium.com/@alexey.yeryomenko/automatic-number-plate-recognition-with-raspberry-pi-e1ac8a804c79)
- [Random Nerd Tutorials - Car Plate Recognition](https://randomnerdtutorials.com/car-plate-recognition-system-with-raspberry-pi-and-node-red/)

---

*본 보고서는 2025년 12월 15일 기준으로 작성되었습니다.*
